---
title: "Fedoraとのつきあいかた"
date: 2019-06-26T23:11:11+09:00
draft: false
---

ふと思い立ってOpenBSDを使ってみようとして、案外すんなり動作することに驚きつつも、ドライバーがなかったり、サスペンドから復帰できなかったりと、いまいちうまく行かないなあなんて思っているうちに、デュアルブートにしていたThinkpadのWindows領域を`dd`で吹っ飛ばしたりしましたが元気です。データ上書きされたのは最初の500MB位だったので`testdisk`を使ってNTFSのパーティションを復旧してデータ救出するところまではできました。

OpenBSDは設定ファイルが明快だったり、manの品質が高かったりして、結構好印象でした。なのでまた何らかしらのマシンでチャレンジしたいですね。HP Elitebook 820 G1でOpenBSDをブートする時画面が乱れる問題の対策としては`machine gop`オプションを変えるとうまくいきます。


そんなこんなでE7270にFedora 30をインストールします。なんで！？
インストールはめちゃくちゃ簡単だし、debianと違ってfirmwareはバイナリブロブであってもゆるすポリシーなので最初からWi-Fiが使えます。

問題があるとすると、日本語入力でしょうか。FedoraのIMEはibus-kkcが標準です。libkkc、比較的新しくていいんですが、既にメンテナンスが放置モードっぽいのがちょっと不安。kkcのつらいところに、スペースを打っても全角スペース（U+3000 Ideographic Space）にならないところと、ltuで「っ」が入力できないことの二つが挙げられます。この問題に対する解決方法としては、些か乱暴ですが`/usr/share/libkkc/rules/default/rom-kana/default.json`を編集してしまうというものがあります。具体的には

    ...
    "z_": ["", "　"],
    "ltu":["", "っ"],
    "vyu":["", "う゛ゅ"]
    ...

などとします。<s>Lを打つと全角スペースが出て来るのは変な感じですが、少なくとも「くうはく」と打って変換するよりは気が楽かなと。</s>
ただし、Firefox上でDiscordやTweetdeckを使うと入力モード切り替え直後の一文字が直接入力になってしまうという症状に悩まされたのでさっさとfcitx-kkcにしてしまいした。DEがXfceだからできる技、というわけでもないか。辞書はibus-kkcじゃないと編集できない気がするので、`~/.config/fcitx/kkc/dictionary/`のファイルを直接いじってしまうのが手っ取り早いかも。
mozc、ibus-mozcはモード切り替え直後が直接入力だったり、fcitx-mozcやmozc自体のパッケージが用意されてないディストリビューションやアーキテクチャがあったりと、なんだかんだで万能ではないので、更新終了して久しいanthyに代わってどうにか使えるようになっていってほしいところです。

あとは何かあったっけ。ああ、環境変数は`~/.bash_profile`に書くっぽいですね。`rclone`を使うと不自由で邪悪なバイナリブロブを使わずにdropboxのファイル同期ができるので自由ソフトウェアの革命闘士ごっこが捗りますが、そもそもファームウェアが入ってしまっている以上は微妙ですね。RPMfusionからffmpegとかいれたりもしますし。

とりあえずそんな感じで使っていってみようと思いますはい。

### 2019-08-27更新

DEをGNOMEに変えました。Fedoraの開発は今後WaylandやPipewireなどでますますGNOMEと深く結びついていくっぽいです。なので、Fedoraを使うならGNOMEが一級市民かな、という気持ちになっています。他のDE使いたいならUbuntu系列やDebianやArchに行くのがいいのではないか。